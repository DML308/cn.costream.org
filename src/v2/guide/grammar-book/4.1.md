# 4.1    composite例子

Operator定义了数据流图中的计算节点，为了将不同节点连接构造数据流图，COStream定义了Composite结构。composite属于高层次（相对于operator）的复合结构，代表一个由一个或若干个operator组成的可重用的数据流图结构。它既可以完整的表示一个数据流程序的数据流图结构，也可以作为子数据流图结构被调用。

![4.1](/img/PART1-4.1.png)

上图的MovingAverage是由一个composite组成的COStream流程序，它也可以写成由若干个composite组成的流程序，图4.1表示一个由2个composite组成的MovingAverage，程序的入口为名为Main的composite，Main中调用了另一个composite—MyOp，这里MyOp只是代表了只有一个operator组成的子图。调用地方需要给出相应的输入流和输出流名称，此处为S和P，同时给出调用参数这里是N，调用时将会使用输入流、输出流和调用参数实例化对应的composite。这里需要注意的是，和C语言main函数类似，当程序中有若干个composite时，需要定义一个Main composite，作为程序的入口。
